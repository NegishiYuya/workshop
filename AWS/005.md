## 目次

-   前回の復習
-   Amazon S3

## 前回の復習

---

### 問題 1

#### 問題文

EBS について誤った記載をしている選択肢はどれか？2 つ選んでください。

1. サイズの増減が簡単にでき、伸縮性に優れている。
2. 同一 AZ 内でレプリケーションが行われるため耐障害性に優れている。
3. 暗号化の設定を施すことができるため、セキュリティに優れている。
4. 複数の EC2 へのアタッチができることで冗長構成をとることができ、耐障害性に優れている。

#### 解答

`1. サイズの増減が簡単にでき、伸縮性に優れている。`
`4. 複数の EC2 へのアタッチができることで冗長構成をとることができ、耐障害性に優れている。`

が誤り。

EBS はサイズを増やすことはできるが、減らすことはできない。  
また、アタッチは 1 つの EC2 に対してのみできる。

---

### 問題 2

#### 問題文

あなたは WEB エンジニアです。
EC2 を使って nginx を起動しています。公開するコンテンツは EBS で管理しています。  
とあるタイミングで EC2 インスタンスを再起動することとなりました。  
気を付けるべきことを 3 点挙げてください。

#### 解答

-   ElasticIP を使ってグローバルな IP を固定すること
-   `/etc/fstab`にマウントの定義を記載し、再起動後もマウントが維持されるようにすること
-   EC2 に対して、nginx の自動起動設定を施すこと

---

### 問題 3

#### 問題文

とある AWS のサービスを使うと、AWS の設計に関する最適(ベストプラクティス)を達成するためのアドバイスがもらえる。
このサービスは何でしょうか？

例えば EC2 へアタッチされていない EBS や過剰なスペックの設定の EC2 を発見することができます。

#### 解答

AWS Trusted Advisor

---

## Amazon S3

[AWS Cloud Practitioner Essentials (Second Edition) (Japanese): M2 ? AWS の主要なサービス | AWS トレーニングと認定](https://www.aws.training/Details/eLearning?id=34401) 動画内の項目 `Amazon Simple Storage Service （S3）`より

AWS が提供するストレージサービスの 1 つ。
(ほかには EBS や EFS がある。)

### S3 を使うメリット

高い耐久性・高可用性・安い。  
1 つのリージョン内の S3 は 3 つのアベイラビリティーゾーンに複製される。  
1 か所のデータセンターが機能不全になっても、残り 2 か所のデータセンターでデータが守られるということ。

### S3 の特徴

-   HTTP/HTTPS 通信でファイル(オブジェクト)の操作を行う。URL でファイルにアクセスするということ。

    -   GET でファイルの取得
    -   POST でファイルのアップロード
        EBS や EFS やサーバにマウントするため、ファイルはパスで指定する。対して、S3 は URL でアクセスする。

-   バケット・オブジェクト
    ファイルはバケットという入れ物にオブジェクトという形式で保存される。

-   バケットポリシー
    閲覧権限の指定ができる。

-   ライフサイクル
    ファイルの保持期間の指定や、低頻度用ストレージへの移動の設定ができる。
    (つまり、保存して一定期間たったら消すような設定ができるということ)

-   署名付き URL
    S3 のオブジェクトに対して権限によらず URL さえ知りえれば誰でもファイルをダウンロードできる機能。閲覧期限付きの URL。

---

### ハンズオン

-   テーマ： S3 バケットの構築とオブジェクトのアップロード
-   成果物のイメージ
    -   オブジェクトが 1 件格納された S3 バケット
