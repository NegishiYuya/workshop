# DNS に関して

## DNS による名前解決の仕組みと DNS キャッシュについて

-   [インターネット 10 分講座：DNS キャッシュ - JPNIC](https://www.nic.ad.jp/ja/newsletter/No51/0800.html)
    `DNSのおさらい`、`名前解決の流れ`、`DNSのキャッシュ`の項目を参照。
-   [インターネット用語 1 分解説～権威 DNS サーバ(authoritative name server)とは～ - JPNIC](https://www.nic.ad.jp/ja/basics/terms/authoritative-nameserver.html)

### 要点

-   DNS は複数のサーバから構成される。
    -   ホスト名から IP アドレスを検索したり、メールアドレスから送信先メールサーバを特定する仕組みを持つ。
    -   「委任」という仕組みでデータを階層ごとに分散して保持する。
        -   `jp`のドメインに関する情報を持っているサーバ、`example.jp`のドメインに関する情報を持っているサーバといったような具合に情報を分散させている。
-   クライアントはドメインを IP アドレス に変換するにあたり、まず`キャッシュサーバ`に問い合わせを行う。
    -   すでにキャッシュサーバがドメインと IP アドレス の紐づけを`DNSキャッシュ`として保持している場合は、その情報をクライアントに返却する
        -   クライアントはその IP アドレスに対してリクエストをする
        -   毎回、名前解決に関する問い合わせがされることを防ぐ。
    -   `DNSキャッシュ`を保持していない場合・DNS キャッシュの`TTL`(保持期間)を過ぎている場合は、名前解決を行う。
        -   キャッシュサーバはルートサーバに対して問い合わせを行う
        -   キャッシュサーバはルートサーバからの返答をもとに下位のドメインのサーバに対し問い合わせを行う
        -   繰り返し
        -   キャッシュサーバは最終的に判明した IP アドレスをクライアントに返却する
        -   クライアントはその IP アドレスに対してリクエストをする
    -   `キャッシュサーバ`に対して名前解決の機能を有しているサーバを`権威DNS`という
        -   `Route53`は AWS が提供する権威 DNS である

## ゾーンについて

-   [ゾーンとは何ですか？：DNS Tips - ＠IT](https://www.atmarkit.co.jp/ait/articles/1412/24/news022.html)
-   [「ゾーン」と「委任」と「権威」の関係について教えてください：DNS Tips - ＠IT](https://www.atmarkit.co.jp/ait/articles/1511/25/news008.html)

### 要点

DNS で提供される情報（リソースレコード）の集合で、ドメイン名のツリー構造の一部を構成する単位
